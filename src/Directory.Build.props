<?xml version="1.0" encoding="utf-8" ?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <PropertyGroup>
    <GenerateAssemblyCopyrightVersionAttribute>false</GenerateAssemblyCopyrightVersionAttribute>
    <GenerateAssemblyCompanyAttribute>false</GenerateAssemblyCompanyAttribute>
    <Version Condition="'$(GitVersion_NuGetVersion)' != ''">$(GitVersion_NuGetVersion)</Version>
    <Company>Howatworks</Company>
    <Copyright>Copyright (c) $([System.DateTime]::Now.Year) James Howat</Copyright>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
  </PropertyGroup>

  <ItemGroup>
    <None Include="$(MSBuildThisFileDirectory)\..\LICENSE.md" Pack="true" Visible="true" PackagePath="">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </None>
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="GitVersionTask" Version="5.2.4" PrivateAssets="All" />
  </ItemGroup>

  <Target Name="ZipPublishArtifacts" AfterTargets="Publish">
    <PropertyGroup>
      <PublishZipFolder>$(MSBuildThisFileDirectory)\..\PublishedApps\</PublishZipFolder>
    </PropertyGroup>
    <MakeDir Directories="$(PublishZipFolder)" />
    <ZipDirectory SourceDirectory="$(PublishDir)" DestinationFile="$(PublishZipFolder)\$(ProjectName)-$(GitVersion_NuGetVersion).zip" />
  </Target>

</Project>
